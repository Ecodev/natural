@use 'sass:map';
@use '~@angular/material' as mat;

@mixin natural-editor($theme) {
    $primary: map.get($theme, primary);
    $accent: map.get($theme, accent);
    $warn: map.get($theme, warn);

    $config: mat.get-color-config($theme);
    $foreground: map.get($config, foreground);
    $is-dark-theme: map.get($config, is-dark);

    // Copied from Material Form Field
    $fill-background: mat.get-color-from-palette($foreground, base, if($is-dark-theme, 0.1, 0.04));
    $underline-color: mat.get-color-from-palette($foreground, divider, if($is-dark-theme, 0.5, 0.42));

    natural-editor {
        .menu,
        .ProseMirror {
            background-color: $fill-background;
        }

        .menu {
            border-color: $underline-color;
        }

        placeholder {
            background: linear-gradient(
                90deg,
                mat.get-color-from-palette($primary),
                mat.get-color-from-palette($primary),
                mat.get-color-from-palette($accent),
                mat.get-color-from-palette($primary),
                mat.get-color-from-palette($primary)
            );
        }
    }
}
