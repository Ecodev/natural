<!-- Because directives can't be applied conditionally (routerLink, mat-button and mat-icon-button), we have to use different elements -->

<ng-container *ngIf="!raised">

    <!-- App routed link with label... -->
    <a *ngIf="!href && label" mat-button [routerLink]="navigate" [queryParams]="queryParams" [color]="color">
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
        <span>{{ label }}</span>
    </a>

    <!-- ... and without label -->
    <a *ngIf="!href && !label"
       mat-icon-button
       [routerLink]="navigate"
       [queryParams]="queryParams"
       [queryParamsHandling]="queryParamsHandling"
       [color]="color"
    >
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
    </a>

    <!-- External link with label... -->
    <a *ngIf="href && label" mat-button [attr.href]="href" [color]="color" target="_blank">
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
        <span>{{ label }}</span>
    </a>

    <!-- ... and without label -->
    <a *ngIf="href && !label" mat-icon-button [attr.href]="href" [color]="color" target="_blank">
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
    </a>
</ng-container>


<ng-container *ngIf="raised">

    <!-- App routed link with label... -->
    <a *ngIf="!href && label" mat-raised-button [routerLink]="navigate" [queryParams]="queryParams" [color]="color">
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
        <span>{{ label }}</span>
    </a>

    <!-- ... and without label -->
    <a *ngIf="!href && !label"
       mat-icon-button
       mat-raised-button
       [routerLink]="navigate"
       [queryParams]="queryParams"
       [queryParamsHandling]="queryParamsHandling"
       [color]="color"
    >
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
    </a>

    <!-- External link with label... -->
    <a *ngIf="href && label" mat-raised-button [attr.href]="href" [color]="color" target="_blank">
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
        <span>{{ label }}</span>
    </a>

    <!-- ... and without label -->
    <a *ngIf="href && !label" mat-icon-button mat-raised-button [attr.href]="href" [color]="color" target="_blank">
        <natural-icon *ngIf="icon" [name]="icon"></natural-icon>
    </a>
</ng-container>
