<a
    naturalFileDrop
    matRipple
    target="_blank"
    [selectable]="true"
    [accept]="accept()"
    [attr.href]="getDownloadLink()"
    [class.has-action]="!!action()"
    [class.suggest-upload]="!model && action() === 'upload'"
    [fileSelectionDisabled]="action() !== 'upload'"
    [matRippleDisabled]="!action()"
    [naturalBackgroundDensity]="imagePreview"
    [style.backgroundSize]="backgroundSize()"
    (fileChange)="upload($event)"
>
    @if (filePreview) {
        <div class="file-preview" [style.font-size.px]="fontSize()">
            <mat-icon naturalIcon="attachment" [size]="iconHeight()" />
            {{ filePreview | uppercase }}
        </div>
    }

    <div class="action-overlay" [style.font-size.px]="fontSize()">
        @if (action() === 'upload') {
            <mat-icon naturalIcon="cloud_upload" [size]="iconHeight()" />
        }
        @if (action() === 'download') {
            <mat-icon naturalIcon="get_app" [size]="iconHeight()" />
        }
        {{ action() | capitalize }}
    </div>
</a>
