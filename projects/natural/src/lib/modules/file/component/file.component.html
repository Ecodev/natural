<a
    (fileChange)="upload($event)"
    naturalFileDrop
    [selectable]="true"
    [accept]="accept"
    [attr.href]="getDownloadLink()"
    [class.has-action]="!!action"
    [class.suggest-upload]="!model && action === 'upload'"
    [fileSelectionDisabled]="action !== 'upload'"
    [matRippleDisabled]="!action"
    [style.backgroundImage]="imagePreview"
    [style.backgroundSize]="backgroundSize"
    matRipple
    target="_blank"
>
    @if (filePreview) {
        <div class="file-preview">
            <mat-icon [size]="height * 0.33" naturalIcon="attachment"></mat-icon>
            {{ filePreview | uppercase }}
        </div>
    }

    <div class="action-overlay">
        @if (action === 'upload') {
            <mat-icon [size]="height * 0.66" naturalIcon="cloud_upload"></mat-icon>
        }
        @if (action === 'download') {
            <mat-icon [size]="height * 0.66" naturalIcon="get_app"></mat-icon>
        }
        {{ action | capitalize }}
    </div>
</a>
