@use 'sass:map';
@use '@angular/material' as mat;

// Non themes
@use 'styles/layout';
@use 'styles/table';
@use 'modules/panels/panels.external';
// Themes
@use 'modules/alert/alert.theme';
@use 'modules/sidenav/sidenav.theme';
@use 'modules/search/search.theme';
@use 'modules/file/component/file.theme';

@mixin natural($theme) {
    $primary: map.get($theme, primary);
    $accent: map.get($theme, accent);
    $warn: map.get($theme, warn);
    $background: map.get($theme, background);
    $foreground: map.get($theme, foreground);

    @include alert.natural-alert($theme);
    @include sidenav.natural-sidenav($theme);
    @include search.natural-search($theme);
    @include table.natural-table($theme);
    @include file.natural-file($theme);

    .mat-mdc-tab-labels,
    .mdc-data-table__row:last-child .mdc-data-table__cell {
        border-bottom: 1px solid mat.get-color-from-palette($foreground, divider);
    }

    // Since MDC dialogs, text color is too pale, so we restore a higher contrast for better readability
    // See https://github.com/angular/components/issues/26797
    .mat-mdc-dialog-container .mdc-dialog__content {
        color: mat.get-color-from-palette(map.get($theme, foreground), base, 0.87);
    }
}

$defaultConfig: mat.define-typography-config();

// This is the default Material typography, but with button with normal letter-spacing instead of wider letter-spacing.
$typography: mat.define-typography-config(
    $button:
        mat.define-typography-level(
            $font-family: mat.font-family($defaultConfig, 'button'),
            $font-weight: mat.font-weight($defaultConfig, 'button'),
            $font-size: mat.font-size($defaultConfig, 'button'),
            $line-height: mat.line-height($defaultConfig, 'button'),
            $letter-spacing: normal,
        ),
);
